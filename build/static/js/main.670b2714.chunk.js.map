{"version":3,"sources":["Components/ImageGalleryItem/ImageGalleryItem.jsx","Components/ImageGallery/ImageGallery.jsx","Components/SearchBar/SearchBar.jsx","Components/Button/Button.jsx","Components/Modal/Modal.jsx","services/api.js","App.js","index.js"],"names":["ImageGalleryItem","picture","toggleModal","className","src","webformatURL","alt","tags","onClick","largeImageURL","id","ImageGallery","picturesData","map","SearchBar","onSearch","onSubmit","e","preventDefault","target","elements","searchQuery","value","type","name","autoComplete","autoFocus","placeholder","Button","Modal","onClose","onOpen","useEffect","window","addEventListener","onImageClick","removeEventListener","code","currentTarget","axios","defaults","baseURL","fetchImages","page","a","get","response","data","hits","App","mounted","useRef","useState","pictures","setPictures","setPage","query","setQuery","reqStatus","setReqStatus","showModal","setShowModal","modalImage","setModalImage","images","prevState","scrollTo","top","document","documentElement","scrollHeight","behavior","current","render","showSearchButton","length","color","height","width","timeout","s","ReactDOM","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.670b2714.chunk.js","sourcesContent":["import React from 'react'\n\nfunction ImageGalleryItem({ picture, toggleModal }) {\n  return (\n    <>\n      <li key={picture.id} className=\"ImageGalleryItem\">\n        <img\n          src={picture.webformatURL}\n          alt={picture.tags}\n          className=\"ImageGalleryItem-image\"\n          onClick={() => toggleModal(picture.largeImageURL)}\n        />\n      </li>\n    </>\n  )\n}\n\nexport default ImageGalleryItem\n","import React from 'react'\nimport ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem'\n\nfunction ImageGallery({ picturesData, toggleModal }) {\n  return (\n    <ul className=\"ImageGallery\">\n      {picturesData.map((picture) => (\n        <ImageGalleryItem\n          key={picture.id}\n          picture={picture}\n          toggleModal={toggleModal}\n        ></ImageGalleryItem>\n      ))}\n    </ul>\n  )\n}\n\nexport default ImageGallery\n","import React from 'react'\n\nfunction SearchBar({ onSearch }) {\n  const handleSearch = (e) => {\n    e.preventDefault()\n    onSearch(e.target.elements.searchQuery.value)\n  }\n  return (\n    <header className=\"SearchBar\">\n      <form className=\"SearchForm\" onSubmit={handleSearch}>\n        <button type=\"submit\" className=\"SearchForm-button\">\n          <span className=\"SearchForm-button-label\">Search</span>\n        </button>\n\n        <input\n          className=\"SearchForm-input\"\n          name=\"searchQuery\"\n          type=\"text\"\n          autoComplete=\"off\"\n          autoFocus\n          placeholder=\"Search images and photos\"\n        />\n      </form>\n    </header>\n  )\n}\n\nexport default SearchBar\n","import React from 'react'\n\nfunction Button({ onClick }) {\n  return (\n    <>\n      <button type=\"button\" className=\"Button\" onClick={onClick}>\n        Load more\n      </button>\n    </>\n  )\n}\n\nexport default Button\n","import { useEffect } from 'react'\n\nfunction Modal({ onClose, onOpen }) {\n  useEffect(() => {\n    window.addEventListener('keydown', onImageClick)\n    return () => {\n      window.removeEventListener('keydown', onImageClick)\n    }\n  })\n\n  const onImageClick = (e) => {\n    if (e.code === 'Escape') {\n      onClose()\n    }\n  }\n\n  const onBackdropClick = (e) => {\n    if (e.currentTarget === e.target) {\n      onClose()\n    }\n  }\n\n  return (\n    <div className=\"Overlay\" onClick={onBackdropClick}>\n      <div className=\"Modal\">\n        <img src={onOpen} alt={onOpen} />\n      </div>\n    </div>\n  )\n}\n\nexport default Modal\n","import axios from 'axios'\n// import ApiService from './Components/apiService/ApiService'\naxios.defaults.baseURL = 'https://pixabay.com/api/'\nexport const fetchImages = async (searchQuery, page) => {\n  const API_KEY = '21748955-40ae248ad9ce65df002076b41'\n  const response = await axios.get(\n    `?q=${searchQuery}&page=${page}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=12`,\n  )\n  return response.data.hits\n}\n","import { useState, useEffect, useRef } from 'react'\n\nimport ImageGallery from './Components/ImageGallery/ImageGallery'\nimport SearchBar from './Components/SearchBar/SearchBar'\nimport Button from './Components/Button/Button'\nimport Modal from './Components/Modal/Modal'\nimport { fetchImages } from './services/api.js'\n\nimport Loader from 'react-loader-spinner'\n\nfunction App() {\n  const mounted = useRef(false)\n  const [pictures, setPictures] = useState([])\n  const [page, setPage] = useState(1)\n  const [query, setQuery] = useState(null)\n  const [reqStatus, setReqStatus] = useState('idle')\n  const [showModal, setShowModal] = useState(false)\n  const [modalImage, setModalImage] = useState(null)\n\n  useEffect(() => {\n    if (!mounted.current) {\n      mounted.current = true\n      return\n    }\n\n    async function render() {\n      setReqStatus('pending')\n      const images = await fetchImages(query, page)\n      setPictures((prevState) => [...prevState, ...images])\n      setReqStatus('resolved')\n\n      if (page > 1) {\n        window.scrollTo({\n          top: document.documentElement.scrollHeight,\n          behavior: 'smooth',\n        })\n      }\n    }\n    render()\n  }, [query, page])\n\n  const handleFormSubmit = (searchQuery) => {\n    setQuery(searchQuery)\n    setPage(1)\n    setPictures([])\n  }\n\n  const pageIncrease = () => {\n    setPage((s) => s + 1)\n  }\n  const openModal = (data) => {\n    setShowModal(true)\n    setModalImage(data)\n  }\n\n  const closeModal = () => {\n    setShowModal(false)\n    setModalImage(null)\n  }\n\n  const showSearchButton = pictures.length > 0\n\n  return (\n    <div className=\"App\">\n      <SearchBar onSearch={handleFormSubmit}></SearchBar>\n      <ImageGallery\n        picturesData={pictures}\n        toggleModal={openModal}\n      ></ImageGallery>\n      {reqStatus === 'pending' && (\n        <Loader\n          type=\"Puff\"\n          color=\"#00BFFF\"\n          height={100}\n          width={100}\n          timeout={3000} //3 secs\n        />\n      )}\n\n      {showSearchButton && <Button onClick={pageIncrease}></Button>}\n      {showModal && <Modal onClose={closeModal} onOpen={modalImage}></Modal>}\n    </div>\n  )\n}\n\nexport default App\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.css'\nimport App from './App'\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n)\n"],"sourceRoot":""}